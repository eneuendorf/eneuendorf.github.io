<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Latest Paragraph</title>
    <script>
      // URL of your Google Apps Script Web App
      const scriptUrl = "https://script.google.com/macros/s/AKfycbxB6UYzN-k3dWhHyQ_pHhLW-yKNQT6IXvfgF9shfSpg0xFm22DRwespGhKYb6cQfdWnlw/exec";

      // Function to fetch and display translations
      async function fetchTranslations() {
          try {
              let response = await fetch(scriptUrl);
              let data = await response.json();
              var currentText = document.getElementById("latestParagraph");

              let newText = data.amharic.replace(/\n/g, "<br>");

              if (currentText.innerHTML !== newText) {
                  if (currentText.innerHTML.trim() !== "") {  // Prevents leading <br>
                      document.getElementById("transcript").innerHTML += currentText.innerHTML + "<br>";
                  }
                  currentText.innerHTML = newText;
              } else {
                  console.log("same");
              } 
          } catch (error) {
              console.error("Error fetching translations:", error);
          }
      }

      // Fetch translations every 3 seconds
      var tid = setInterval(fetchTranslations, 3000);
      window.onload = fetchTranslations;
    </script>
</head>
<body>
    <!--<h2>Traducción a Español</h2>-->
    <p id="latestParagraph"></p>
    <hr>
    
    <p id="transcript"></p>
</body>
</html>
